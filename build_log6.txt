#1 [internal] load local bake definitions
#1 reading from stdin 1.19kB done
#1 DONE 0.0s

#2 [djangoapi internal] load build definition from Dockerfile
#2 transferring dockerfile: 1.88kB done
#2 DONE 0.2s

#3 [postgis internal] load build definition from Dockerfile
#3 transferring dockerfile: 707B 0.0s done
#3 DONE 0.4s

#4 [djangoapi internal] load metadata for docker.io/library/python:3.12-alpine3.21
#4 DONE 0.8s

#5 [postgis internal] load metadata for docker.io/postgis/postgis:16-3.4
#5 ...

#6 [djangoapi internal] load .dockerignore
#6 transferring context: 2B done
#6 DONE 0.2s

#7 [djangoapi 1/9] FROM docker.io/library/python:3.12-alpine3.21@sha256:d4f9227f21409479c7fe92288f2e40b1a56ae591c8ad3b5446dfeaef90f67857
#7 DONE 0.0s

#8 [djangoapi 2/9] RUN addgroup -g 1000 joamona &&     adduser -D -u 1000 -G joamona joamona
#8 CACHED

#9 [djangoapi 3/9] WORKDIR /home/joamona
#9 CACHED

#10 [djangoapi internal] load build context
#10 transferring context: 608.13kB 0.1s done
#10 ...

#5 [postgis internal] load metadata for docker.io/postgis/postgis:16-3.4
#5 DONE 1.3s

#10 [djangoapi internal] load build context
#10 DONE 0.6s

#11 [postgis internal] load .dockerignore
#11 transferring context: 2B 0.0s done
#11 DONE 0.4s

#12 [djangoapi 4/9] RUN echo "https://dl-cdn.alpinelinux.org/alpine/v3.21/main" > /etc/apk/repositories &&     echo "https://dl-cdn.alpinelinux.org/alpine/v3.21/community" >> /etc/apk/repositories &&     echo "https://dl-cdn.alpinelinux.org/alpine/edge/community" >> /etc/apk/repositories &&     apk update && apk add --no-cache     postgresql-dev g++ gcc musl-dev libpq-dev wget pango gdal gdal-dev gdal-driver-all postgresql-client geos geos-dev proj-dev gcc musl-dev libffi-dev python3-dev
#12 ...

#13 [postgis 1/6] FROM docker.io/postgis/postgis:16-3.4@sha256:44126d872ac91993766c341e369c539e8196614321765d36a6f1bab0419a5fa5
#13 DONE 0.0s

#14 [postgis internal] load build context
#14 transferring context: 100B done
#14 DONE 0.2s

#12 [djangoapi 4/9] RUN echo "https://dl-cdn.alpinelinux.org/alpine/v3.21/main" > /etc/apk/repositories &&     echo "https://dl-cdn.alpinelinux.org/alpine/v3.21/community" >> /etc/apk/repositories &&     echo "https://dl-cdn.alpinelinux.org/alpine/edge/community" >> /etc/apk/repositories &&     apk update && apk add --no-cache     postgresql-dev g++ gcc musl-dev libpq-dev wget pango gdal gdal-dev gdal-driver-all postgresql-client geos geos-dev proj-dev gcc musl-dev libffi-dev python3-dev
#12 ...

#15 [postgis 5/6] COPY ./init-db.sh /docker-entrypoint-initdb.d/init-db.sh
#15 CACHED

#16 [postgis 2/6] WORKDIR /usr/local/app
#16 CACHED

#17 [postgis 3/6] COPY ./init-users.sql .
#17 CACHED

#18 [postgis 4/6] COPY ./disati.backup .
#18 CACHED

#19 [postgis 6/6] RUN chmod +x /docker-entrypoint-initdb.d/init-db.sh
#19 CACHED

#20 [postgis] exporting to image
#20 exporting layers done
#20 writing image sha256:db46aa49ac31b76feae82a1fce034f6220b1f33da007489feacd621780394675 0.1s done
#20 naming to docker.io/library/django-api-template-postgis 0.1s done
#20 DONE 0.4s

#12 [djangoapi 4/9] RUN echo "https://dl-cdn.alpinelinux.org/alpine/v3.21/main" > /etc/apk/repositories &&     echo "https://dl-cdn.alpinelinux.org/alpine/v3.21/community" >> /etc/apk/repositories &&     echo "https://dl-cdn.alpinelinux.org/alpine/edge/community" >> /etc/apk/repositories &&     apk update && apk add --no-cache     postgresql-dev g++ gcc musl-dev libpq-dev wget pango gdal gdal-dev gdal-driver-all postgresql-client geos geos-dev proj-dev gcc musl-dev libffi-dev python3-dev
#12 1.493 fetch https://dl-cdn.alpinelinux.org/alpine/v3.21/main/x86_64/APKINDEX.tar.gz
#12 ...

#21 [postgis] resolving provenance for metadata file
#21 DONE 0.0s

#12 [djangoapi 4/9] RUN echo "https://dl-cdn.alpinelinux.org/alpine/v3.21/main" > /etc/apk/repositories &&     echo "https://dl-cdn.alpinelinux.org/alpine/v3.21/community" >> /etc/apk/repositories &&     echo "https://dl-cdn.alpinelinux.org/alpine/edge/community" >> /etc/apk/repositories &&     apk update && apk add --no-cache     postgresql-dev g++ gcc musl-dev libpq-dev wget pango gdal gdal-dev gdal-driver-all postgresql-client geos geos-dev proj-dev gcc musl-dev libffi-dev python3-dev
#12 61.63 WARNING: updating and opening https://dl-cdn.alpinelinux.org/alpine/v3.21/main: Permission denied
#12 61.63 fetch https://dl-cdn.alpinelinux.org/alpine/v3.21/community/x86_64/APKINDEX.tar.gz
#12 121.8 WARNING: updating and opening https://dl-cdn.alpinelinux.org/alpine/v3.21/community: Permission denied
#12 121.8 fetch https://dl-cdn.alpinelinux.org/alpine/edge/community/x86_64/APKINDEX.tar.gz
#12 181.9 WARNING: updating and opening https://dl-cdn.alpinelinux.org/alpine/edge/community: Permission denied
#12 181.9 6 unavailable, 0 stale; 37 distinct packages available
#12 ERROR: process "/bin/sh -c echo \"https://dl-cdn.alpinelinux.org/alpine/v3.21/main\" > /etc/apk/repositories &&     echo \"https://dl-cdn.alpinelinux.org/alpine/v3.21/community\" >> /etc/apk/repositories &&     echo \"https://dl-cdn.alpinelinux.org/alpine/edge/community\" >> /etc/apk/repositories &&     apk update && apk add --no-cache     postgresql-dev g++ gcc musl-dev libpq-dev wget pango gdal gdal-dev gdal-driver-all postgresql-client geos geos-dev proj-dev gcc musl-dev libffi-dev python3-dev" did not complete successfully: exit code: 6
------
 > [djangoapi 4/9] RUN echo "https://dl-cdn.alpinelinux.org/alpine/v3.21/main" > /etc/apk/repositories &&     echo "https://dl-cdn.alpinelinux.org/alpine/v3.21/community" >> /etc/apk/repositories &&     echo "https://dl-cdn.alpinelinux.org/alpine/edge/community" >> /etc/apk/repositories &&     apk update && apk add --no-cache     postgresql-dev g++ gcc musl-dev libpq-dev wget pango gdal gdal-dev gdal-driver-all postgresql-client geos geos-dev proj-dev gcc musl-dev libffi-dev python3-dev:
1.493 fetch https://dl-cdn.alpinelinux.org/alpine/v3.21/main/x86_64/APKINDEX.tar.gz
61.63 WARNING: updating and opening https://dl-cdn.alpinelinux.org/alpine/v3.21/main: Permission denied
61.63 fetch https://dl-cdn.alpinelinux.org/alpine/v3.21/community/x86_64/APKINDEX.tar.gz
121.8 WARNING: updating and opening https://dl-cdn.alpinelinux.org/alpine/v3.21/community: Permission denied
121.8 fetch https://dl-cdn.alpinelinux.org/alpine/edge/community/x86_64/APKINDEX.tar.gz
181.9 WARNING: updating and opening https://dl-cdn.alpinelinux.org/alpine/edge/community: Permission denied
181.9 6 unavailable, 0 stale; 37 distinct packages available
------
Dockerfile:27

--------------------

  26 |     # install psycopg2, and geodjango dependencies

  27 | >>> RUN echo "https://dl-cdn.alpinelinux.org/alpine/v3.21/main" > /etc/apk/repositories && \

  28 | >>>     echo "https://dl-cdn.alpinelinux.org/alpine/v3.21/community" >> /etc/apk/repositories && \

  29 | >>>     echo "https://dl-cdn.alpinelinux.org/alpine/edge/community" >> /etc/apk/repositories && \

  30 | >>>     apk update && apk add --no-cache \

  31 | >>>     postgresql-dev g++ gcc musl-dev libpq-dev wget pango gdal gdal-dev gdal-driver-all postgresql-client geos geos-dev proj-dev gcc musl-dev libffi-dev python3-dev 

  32 |     RUN apk add --update --no-cache --virtual .tmp-build-deps libc-dev linux-headers 

--------------------

target djangoapi: failed to solve: process "/bin/sh -c echo \"https://dl-cdn.alpinelinux.org/alpine/v3.21/main\" > /etc/apk/repositories &&     echo \"https://dl-cdn.alpinelinux.org/alpine/v3.21/community\" >> /etc/apk/repositories &&     echo \"https://dl-cdn.alpinelinux.org/alpine/edge/community\" >> /etc/apk/repositories &&     apk update && apk add --no-cache     postgresql-dev g++ gcc musl-dev libpq-dev wget pango gdal gdal-dev gdal-driver-all postgresql-client geos geos-dev proj-dev gcc musl-dev libffi-dev python3-dev" did not complete successfully: exit code: 6

